[{"/Users/rossifumi46/Desktop/github/change/src/index.js":"1","/Users/rossifumi46/Desktop/github/change/src/App.js":"2","/Users/rossifumi46/Desktop/github/change/src/reportWebVitals.js":"3","/Users/rossifumi46/Desktop/github/change/src/components/Search.js":"4","/Users/rossifumi46/Desktop/github/change/src/api.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":202,"mtime":1608049298859,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"7"},{"size":1669,"mtime":1608300536031,"results":"10","hashOfConfig":"7"},{"size":741,"mtime":1608050455743,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"14ig770",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/rossifumi46/Desktop/github/change/src/index.js",[],["25","26"],"/Users/rossifumi46/Desktop/github/change/src/App.js",[],"/Users/rossifumi46/Desktop/github/change/src/reportWebVitals.js",[],"/Users/rossifumi46/Desktop/github/change/src/components/Search.js",["27"],"import { useState } from 'react';\nimport api from '../api';\nimport './Search.css';\n\nconst Search = (props) => {\n  const [query, setQuery] = useState('');\n  const [result, setResult] = useState([]);\n\n  function handleChange(e) {\n    setQuery(e.target.value);\n    api.getPoem(e.target.value)\n      .then((response) => {\n        setResult(response);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"Search\">\n      <h1>Поиск</h1>\n      <input type=\"text\" onChange={handleChange} value={query}/>\n      <div className=\"result\">\n          {result.map((poem) => {\n            const queryElem = <span style={{color : 'red'}}>{query}</span>;\n            const text = poem.fields.text;\n            // const index = text.indexOf(query);\n            // const indexStart = text.slice(0, index).lastIndexOf('\\n');\n            // const indexEnd = text.slice(index).indexOf('\\n');\n            const textArray = text.split('\\n');\n            const index = textArray.findIndex(line => line.includes(query) ? line : false);\n            const line = textArray[index];\n            if (index > -1) {\n              console.log(index);\n              const ind = textArray[index].indexOf(query);\n              return (\n                <div className=\"poem-item\">\n                  <p>.......</p>\n                  <p>{textArray[index-1]}</p>\n                  <p>{line.slice(0, ind)}{queryElem}{line.slice(ind+query.length)}</p>\n                  <p>{textArray[index+1]}</p>\n                  <p>.......</p>\n                </div>\n              )\n            }\n          })}\n      </div>      \n    </div>\n  )\n}\n\nexport default Search;","/Users/rossifumi46/Desktop/github/change/src/api.js",[],["28","29"],{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","severity":1,"message":"35","line":25,"column":30,"nodeType":"36","messageId":"37","endLine":25,"endColumn":32},{"ruleId":"30","replacedBy":"38"},{"ruleId":"32","replacedBy":"39"},"no-native-reassign",["40"],"no-negated-in-lhs",["41"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",["40"],["41"],"no-global-assign","no-unsafe-negation"]